<div class="wrapper">
  <app-aside-right-tripple></app-aside-right-tripple>

  <virtual-scroller *ngIf="isMobileResolution"
                    #scroll
                    (vsUpdate)="viewPortItems = $event"
                    (vsEnd)="fetchMoreEnd($event)"
                    [items]="buffer"
                    class="virtual-scroller">
    <app-post-item *ngFor="let post of scroll.viewPortItems"
                   [post]="post"
                   class="app-post-item"></app-post-item>
  </virtual-scroller>

  <div *ngIf="!isMobileResolution"
       class="posts desktop">
    <app-post-item *ngFor="let post of posts | paginate: config"
                   [post]="post"></app-post-item>
  </div>
  <pagination-template *ngIf="!isMobileResolution"
                       class="pagination"
                       #p="paginationApi"
                       [id]="config.id"
                       (pageChange)="onChangedPage($event)">
    <div *ngIf="isPaginationRequired"
         class="pagination-previous desktop">
      <a class="pagination-previous--link"
         *ngIf="!p.isFirstPage()"
         (click)="p.previous()">
        &laquo;
      </a>
      <span class="pagination-previous--span"
            *ngIf="p.isFirstPage()">
        &laquo;
      </span>
    </div>
    <div *ngIf="isPaginationRequired"
         class="pagination-current desktop">
      <div *ngFor="let page of p.pages">
        <a class="pagination-current--link"
           *ngIf="p.getCurrent() !== page.value"
           (click)="p.setCurrent(page.value)">
          {{ page.label }}
        </a>
        <span class="pagination-current--span"
              *ngIf="p.getCurrent() === page.value">
          {{ page.label }}
        </span>
      </div>
    </div>
    <div *ngIf="isPaginationRequired"
         class="pagination-next desktop">
      <a class="pagination-next--link"
         *ngIf="!p.isLastPage()"
         (click)="p.next()">
        &raquo;
      </a>
      <span class="pagination-next--span"
            *ngIf="p.isLastPage()">
        &raquo;
      </span>
    </div>
    <!-- <div class="pagination-next mobile"
         *ngIf="isPaginationRequired">
      <a class="pagination-next--link"
         *ngIf="!p.isLastPage()"
         (click)="p.next()">
        Show more posts
      </a>
      <span class="pagination-next--span"
            *ngIf="p.isLastPage()">
      </span>
    </div> -->
  </pagination-template>
</div>
